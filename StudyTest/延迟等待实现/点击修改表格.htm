<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="Scripts/jquery-1.4.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            //在页面装载时，让所有的页面都有一个click事件。
            var tds = $("td");
            tds.click(function () {
                //获取当前点击的td
                var tdClick = $(this);
                //获取当前点击td值
                var textValue = tdClick.text();
                //清空td的内容，也可以用tdClick.empty();
                tdClick.html("");
                //创建input type=text 
                var inputCreate = $("<input>");
                //把td的值赋给input
                inputCreate.attr("value", textValue);
                //把input 追加到td
                tdClick.append(inputCreate);

                //让文本框可以相应键盘，当用户按下回车键的时候处理

                inputCreate.keyup(function (event) {

                    ///解决不同浏览器获取事件对象差异，在火狐浏览器没有window.envet,但是
                    //会传递event对象，ie浏览器会传递window.event;
                    //所以，用或，只要任何一个都会是true
                    var myEvent = event || window.event;
                    //
                    var kcode = myEvent.keyCode;

                    if (kcode == 13) {
                        //获取当前的input
                        var inputnode = $(this);
                        //获取文本框中用户输入的值
                        var val = inputnode.val();
                        //获取文本框所在的td
                        var tdnode = inputnode.parent();
                        //给td赋值
                        tdnode.html(val);
                        ///注册
                        tdnode.click(tdClicks);
                    };

                });
                //清除 td的click事件
                tdClick.unbind("click");

            });

        });

        function tdClicks() {
            //获取当前点击的td
            var tdClick = $(this);
            //获取当前点击td值
            var textValue = tdClick.text();
            //清空td的内容，也可以用tdClick.empty();
            tdClick.html("");
            //创建input type=text 
            var inputCreate = $("<input>");
            //把td的值赋给input
            inputCreate.attr("value", textValue);
            //把input 追加到td
            tdClick.append(inputCreate);

            //让文本框可以相应键盘，当用户按下回车键的时候处理

            inputCreate.keyup(function (event) {

                ///解决不同浏览器获取事件对象差异，在火狐浏览器没有window.envet,但是
                //会传递event对象，ie浏览器会传递window.event;
                //所以，用或，只要任何一个都会是true
                var myEvent = event || window.event;
                //
                var kcode = myEvent.keyCode;

                if (kcode == 13) {
                    //获取当前的input
                    var inputnode = $(this);
                    //获取文本框中用户输入的值
                    var val = inputnode.val();
                    //获取文本框所在的td
                    var tdnode = inputnode.parent();
                    //给td赋值
                    tdnode.html(val);
                    //注册自己本身
                    tdnode.click(tdClicks);
                };

            });

            //清除 td的click事件
            tdClick.unbind("click");
        }
    </script>
</head>
<body>
    <table border="1" style="border-color: Black;">
        <tbody>
            <tr>
                <td>
                    表格一
                </td>
                <td>
                    表格二
                </td>
            </tr>
        </tbody>
    </table>
</body>
</html>
